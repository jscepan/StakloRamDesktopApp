{"version":3,"file":"common-es2015.js","mappings":";;;;;;;;;;;;;;;;;;AAA+E;;;;;;ICK3E,yEAAoE;IAClE,uDACF;IAAA,4DAAM;;;IADJ,0DACF;IADE,mFACF;;;;IAME,yEAAuE;IACrE,gFAKC;IADC,6aAA+B;IAChC,4DAAa;IAChB,4DAAM;;IALF,0DAA2B;IAA3B,oFAA2B;;;IANjC,wEAAkE;IAChE,yEAAuB;IACrB,uDACF;IAAA,4DAAM;IACN,6HAOM;IACR,qEAAe;;;;;IAVX,0DACF;IADE,oFACF;IACwB,0DAA6C;IAA7C,mHAA6C;;ADXpE,MAAM,SAAS;IAAtB;QACE,WAAM,GAAa,EAAE,CAAC;QACtB,SAAI,GAAa,EAAE,CAAC;IACtB,CAAC;CAAA;AAOM,MAAM,kBAAkB;IAK7B;QAHU,aAAQ,GAAyB,IAAI,uDAAY,EAAU,CAAC;QACtE,gCAA2B,GAAW,OAAO,CAAC;IAE/B,CAAC;IAEhB,QAAQ;QACN,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,CAAC,GAAG,EAAE;YACjC,IAAI,CAAC,2BAA2B,IAAI,OAAO,CAAC;QAC9C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,aAAa,CAAC,CAAS;QACrB,OAAO,CAAC,GAAG,CAAC,YAAY,GAAG,CAAC,CAAC,CAAC;QAC9B,IAAI,CAAC,QAAQ,CAAC,IAAI,CAChB,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,SAAS,CAAC,MAAM,CAAC,MAAM,CAAC,CAC1D,CAAC;IACJ,CAAC;;oFAlBU,kBAAkB;gHAAlB,kBAAkB;QCZ/B,yEAA4B;QAC1B,yEAGC;QACC,8GAEM;QACN,yEAA8B;QAAA,uDAA0B;;QAAA,4DAAM;QAC9D,gIAYe;QACjB,4DAAM;QACR,4DAAM;;QApBF,0DAAgE;QAAhE,oIAAgE;QAEjB,0DAAmB;QAAnB,yFAAmB;QAGpC,0DAA0B;QAA1B,0IAA0B;QACxB,0DAAmB;QAAnB,uFAAmB;;;;;;;;;;;;;;;;;;;;;;;ACTR;AAE+B;AAClB;AACH;AACE;AACL;;AAa/C,MAAM,eAAe;;8EAAf,eAAe;4GAAf,eAAe;gHAVjB;YACP,yDAAY;YACZ,wFAAY;YACZ,mEAAc;YACd,qEAAe;YACf,gEAAe;SAChB;mIAIU,eAAe,mBAFX,qEAAkB,aAP/B,yDAAY;QACZ,wFAAY;QACZ,mEAAc;QACd,qEAAe;QACf,gEAAe,aAEP,qEAAkB;;;;;;;;;;;;;;;AChBvB,MAAM,SAAS;IAAtB;QACE,QAAG,GAAW,EAAE,CAAC;IACnB,CAAC;CAAA;;;;;;;;;;;;;;;;;ACFwC;AAGlC,MAAM,YAAa,SAAQ,kDAAS;IAA3C;;QACE,eAAU,GAAS,IAAI,IAAI,EAAE,CAAC;QAC9B,iBAAY,GAAuB,EAAE,CAAC;QACtC,WAAM,GAAW,CAAC,CAAC;QACnB,mBAAc,GAAW,CAAC,CAAC;IAE7B,CAAC;CAAA;AAEM,MAAM,qBAAqB;IAAlC;QACE,WAAM,GAAW,CAAC,CAAC;QACnB,mBAAc,GAAW,CAAC,CAAC;IAE7B,CAAC;CAAA;;;;;;;;;;;;;;;;;;ACdkD;AAEO;;AAGnD,MAAM,oBAAoB;IAS/B;QARQ,mBAAc,GAAoC,IAAI,iDAAe,CAE3E,EAAE,CAAC,CAAC;QACU,kBAAa,GAC3B,IAAI,CAAC,cAAc,CAAC,YAAY,EAAE,CAAC;QAC7B,mBAAc,GAAW,CAAC,CAAC;QAC3B,wBAAmB,GAAW,CAAC,CAAC;IAEzB,CAAC;IAEhB,kBAAkB;QAChB,IAAI,CAAC,cAAc,GAAG,CAAC,CAAC;QACxB,IAAI,CAAC,mBAAmB,GAAG,CAAC,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAED,iBAAiB,CACf,WAA6B,EAC7B,UAAmB;QAEnB,MAAM,KAAK,GAAmB,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC7D,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,WAAW,CAAC,GAAG,GAAG,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC;QACrD,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBACtB,IAAI,CAAC,CAAC,GAAG,KAAK,UAAU,EAAE;oBACxB,CAAC,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;oBACjC,OAAO,CAAC,CAAC;iBACV;qBAAM;oBACL,OAAO,CAAC,CAAC;iBACV;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YAC5B,OAAO,UAAU,CAAC;SACnB;aAAM;YACL,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,OAAO,GAAG,IAAI,+DAAY,EAAE,CAAC;YACjC,OAAO,CAAC,GAAG,GAAG,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC;YAC5C,OAAO,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;YACvC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;YACpB,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAChC,OAAO,OAAO,CAAC,GAAG,CAAC;SACpB;IACH,CAAC;IAED,oBAAoB,CAClB,UAAkB,EAClB,WAA6B;QAE7B,IAAI,UAAU,EAAE;YACd,MAAM,KAAK,GAAmB,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;YAC7D,IAAI,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;gBACtB,IAAI,CAAC,CAAC,GAAG,KAAK,UAAU,EAAE;oBACxB,CAAC,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE;wBACxB,IAAI,EAAE,CAAC,GAAG,KAAK,WAAW,CAAC,GAAG,EAAE;4BAC9B,OAAO,WAAW,CAAC;yBACpB;6BAAM;4BACL,OAAO,EAAE,CAAC;yBACX;oBACH,CAAC,CAAC,CAAC;oBACH,OAAO,CAAC,CAAC;iBACV;qBAAM;oBACL,OAAO,CAAC,CAAC;iBACV;YACH,CAAC,CAAC,CAAC;YAEH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;SAC7B;IACH,CAAC;IAED,sBAAsB,CAAC,UAAkB,EAAE,cAAsB;QAC/D,MAAM,KAAK,GAAmB,IAAI,CAAC,cAAc,CAAC,QAAQ,EAAE,CAAC;QAC7D,MAAM,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,EAAE;YACxB,IAAI,CAAC,CAAC,GAAG,KAAK,UAAU,EAAE;gBACxB,CAAC,CAAC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,MAAM,CACpC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,GAAG,KAAK,cAAc,CAClC,CAAC;gBACF,OAAO,CAAC,CAAC;aACV;iBAAM;gBACL,OAAO,CAAC,CAAC;aACV;QACH,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IAC9B,CAAC;;wFArFU,oBAAoB;qHAApB,oBAAoB,WAApB,oBAAoB,mBADP,MAAM","sources":["./src/app/shared/components/table-show/table-show.component.ts","./src/app/shared/components/table-show/table-show.component.html","./src/app/shared/components/table-show/table-show.module.ts","./src/app/shared/models/base-model.ts","./src/app/shared/models/invoice-model.ts","./src/app/shared/services/data-store-services/draft-invoice-items-store.service.ts"],"sourcesContent":["import { Component, EventEmitter, Input, OnInit, Output } from '@angular/core';\r\n\r\nexport class TableShow {\r\n  header: string[] = [];\r\n  data: string[] = [];\r\n}\r\n\r\n@Component({\r\n  selector: 'app-table-show',\r\n  templateUrl: './table-show.component.html',\r\n  styleUrls: ['./table-show.component.scss'],\r\n})\r\nexport class TableShowComponent implements OnInit {\r\n  @Input() dataModel: TableShow;\r\n  @Output() editData: EventEmitter<string> = new EventEmitter<string>();\r\n  gridTemplateColumnsCssStyle: string = 'auto ';\r\n\r\n  constructor() {}\r\n\r\n  ngOnInit(): void {\r\n    this.dataModel.header.forEach(() => {\r\n      this.gridTemplateColumnsCssStyle += 'auto ';\r\n    });\r\n  }\r\n\r\n  clickEditData(i: number): void {\r\n    console.log('xxxxxxxxxx' + i);\r\n    this.editData.emit(\r\n      this.dataModel.data[i + 1 - this.dataModel.header.length]\r\n    );\r\n  }\r\n}\r\n","<div class=\"main-container\">\r\n  <div\r\n    class=\"grid-container\"\r\n    style=\"grid-template-columns: {{ gridTemplateColumnsCssStyle }}\"\r\n  >\r\n    <div class=\"grid-item header\" *ngFor=\"let item of dataModel.header\">\r\n      {{ item }}\r\n    </div>\r\n    <div class=\"grid-item header\">{{ \"action\" | translate }}</div>\r\n    <ng-container *ngFor=\"let field of dataModel.data; let i = index\">\r\n      <div class=\"grid-item\">\r\n        {{ field }}\r\n      </div>\r\n      <div class=\"grid-item\" *ngIf=\"(i + 1) % dataModel.header.length === 0\">\r\n        <app-button\r\n          [buttonSize]=\"'extrasmall'\"\r\n          [iconName]=\"'edit'\"\r\n          [color]=\"'secondary'\"\r\n          (clickEvent)=\"clickEditData(i)\"\r\n        ></app-button>\r\n      </div>\r\n    </ng-container>\r\n  </div>\r\n</div>\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule } from '@angular/core';\r\nimport { ButtonModule } from 'src/app/shared/components/button/button.module';\r\nimport { TableShowComponent } from './table-show.component';\r\nimport { MatInputModule } from '@angular/material/input';\r\nimport { MatSelectModule } from '@angular/material/select';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    ButtonModule,\r\n    MatInputModule,\r\n    MatSelectModule,\r\n    TranslateModule,\r\n  ],\r\n  exports: [TableShowComponent],\r\n  declarations: [TableShowComponent],\r\n})\r\nexport class TableShowModule {}\r\n","export class BaseModel {\r\n  oid: string = '';\r\n}\r\n","import { BaseModel } from './base-model';\r\nimport { InvoiceItemModel } from './invoice-item.model';\r\n\r\nexport class InvoiceModel extends BaseModel {\r\n  createDate: Date = new Date();\r\n  invoiceItems: InvoiceItemModel[] = [];\r\n  amount: number = 0;\r\n  advancePayment: number = 0;\r\n  buyerName?: string;\r\n}\r\n\r\nexport class AdditionalInformation {\r\n  amount: number = 0;\r\n  advancePayment: number = 0;\r\n  buyerName?: string;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { InvoiceItemModel } from '../../models/invoice-item.model';\r\nimport { InvoiceModel } from '../../models/invoice-model';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class DraftInvoicesService {\r\n  private $draftInvoices: BehaviorSubject<InvoiceModel[]> = new BehaviorSubject<\r\n    InvoiceModel[]\r\n  >([]);\r\n  public readonly draftInvoices: Observable<InvoiceModel[]> =\r\n    this.$draftInvoices.asObservable();\r\n  private invoiceCounter: number = 0;\r\n  private invoiceItemsCounter: number = 0;\r\n\r\n  constructor() {}\r\n\r\n  clearDraftInvoices(): void {\r\n    this.invoiceCounter = 0;\r\n    this.invoiceItemsCounter = 0;\r\n    this.$draftInvoices.next([]);\r\n  }\r\n\r\n  addNewInvoiceItem(\r\n    invoiceItem: InvoiceItemModel,\r\n    invoiceOid?: string\r\n  ): string {\r\n    const items: InvoiceModel[] = this.$draftInvoices.getValue();\r\n    this.invoiceItemsCounter++;\r\n    invoiceItem.oid = 'draft' + this.invoiceItemsCounter;\r\n    if (invoiceOid) {\r\n      let x = items.map((i) => {\r\n        if (i.oid === invoiceOid) {\r\n          i.invoiceItems.push(invoiceItem);\r\n          return i;\r\n        } else {\r\n          return i;\r\n        }\r\n      });\r\n\r\n      this.$draftInvoices.next(x);\r\n      return invoiceOid;\r\n    } else {\r\n      this.invoiceCounter++;\r\n      let invoice = new InvoiceModel();\r\n      invoice.oid = 'draft' + this.invoiceCounter;\r\n      invoice.invoiceItems.push(invoiceItem);\r\n      items.push(invoice);\r\n      this.$draftInvoices.next(items);\r\n      return invoice.oid;\r\n    }\r\n  }\r\n\r\n  editDraftInvoiceItem(\r\n    invoiceOid: string,\r\n    invoiceItem: InvoiceItemModel\r\n  ): void {\r\n    if (invoiceOid) {\r\n      const items: InvoiceModel[] = this.$draftInvoices.getValue();\r\n      let x = items.map((i) => {\r\n        if (i.oid === invoiceOid) {\r\n          i.invoiceItems.map((ii) => {\r\n            if (ii.oid === invoiceItem.oid) {\r\n              return invoiceItem;\r\n            } else {\r\n              return ii;\r\n            }\r\n          });\r\n          return i;\r\n        } else {\r\n          return i;\r\n        }\r\n      });\r\n\r\n      this.$draftInvoices.next(x);\r\n    }\r\n  }\r\n\r\n  removeDraftInvoiceItem(invoiceOid: string, invoiceItemOid: string): void {\r\n    const items: InvoiceModel[] = this.$draftInvoices.getValue();\r\n    const x = items.map((i) => {\r\n      if (i.oid === invoiceOid) {\r\n        i.invoiceItems = i.invoiceItems.filter(\r\n          (ii) => ii.oid !== invoiceItemOid\r\n        );\r\n        return i;\r\n      } else {\r\n        return i;\r\n      }\r\n    });\r\n    this.$draftInvoices.next(x);\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}