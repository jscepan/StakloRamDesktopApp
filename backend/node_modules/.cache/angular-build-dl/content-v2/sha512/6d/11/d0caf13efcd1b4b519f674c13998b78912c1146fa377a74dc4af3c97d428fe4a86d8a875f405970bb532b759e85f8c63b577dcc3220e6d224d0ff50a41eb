{"version":3,"mappings":"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","names":["routes","path","component","_invoices_component__WEBPACK_IMPORTED_MODULE_0__","InvoicesRoutingModule","_angular_router__WEBPACK_IMPORTED_MODULE_2__","imports","exports","_angular_core__WEBPACK_IMPORTED_MODULE_5__","InvoicesComponent","route","draftInvoicesStoreService","invoiceWebService","translateService","src_app_shared_services_subscription_manager__WEBPACK_IMPORTED_MODULE_0__","subs","sink","getEntities","subscribe","invoices","mapDataToTableShow","table","header","instant","data","forEach","entity","push","oid","createDate","advancePayment","buyerName","navigate","clearDraftInvoices","unsubscribe","selectors","features","decls","vars","consts","template","ctx","InvoicesModule","_angular_common__WEBPACK_IMPORTED_MODULE_5__","_invoices_routing_module__WEBPACK_IMPORTED_MODULE_1__","src_app_shared_components_button_button_module__WEBPACK_IMPORTED_MODULE_2__","_ngx_translate_core__WEBPACK_IMPORTED_MODULE_6__","src_app_shared_components_table_show_table_show_module__WEBPACK_IMPORTED_MODULE_3__","declarations","BaseWebService","http","url","get","pipe","res","post","put","_angular_core__WEBPACK_IMPORTED_MODULE_1__","factory","providedIn","EntityBaseWebService","baseWebService","domainName","getRequestForArray","URL_PREFIX","getRequest","postRequest","putRequest","console","log","deleteRequest","InvoiceWebService","_entity_base_web_service__WEBPACK_IMPORTED_MODULE_0__","_angular_core__WEBPACK_IMPORTED_MODULE_2__"],"sources":["webpack:///src/app/features/invoices/invoices-routing.module.ts","webpack:///src/app/features/invoices/invoices.component.html","webpack:///src/app/features/invoices/invoices.component.ts","webpack:///src/app/features/invoices/invoices.module.ts","webpack:///src/app/shared/services/web-services/base-web.service.ts","webpack:///src/app/shared/services/web-services/entity-base-web.service.ts","webpack:///src/app/shared/services/web-services/invoice.web.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { InvoicesComponent } from './invoices.component';\r\n\r\nconst routes: Routes = [{ path: '', component: InvoicesComponent }];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InvoicesRoutingModule {}\r\n","<div class=\"container\">\r\n  <div class=\"invoices\" *ngIf=\"invoices\">\r\n    <app-table-show\r\n      [dataModel]=\"invoices\"\r\n      (editData)=\"editInvoice($event)\"\r\n    ></app-table-show>\r\n  </div>\r\n  <div class=\"footer\">\r\n    <app-button\r\n      [text]=\"'cancel' | translate\"\r\n      color=\"secondary\"\r\n      [buttonSize]=\"'middle'\"\r\n      (clickEvent)=\"cancel()\"\r\n    ></app-button>\r\n    <app-button\r\n      [text]=\"'clearAllDraftData' | translate\"\r\n      color=\"primary\"\r\n      [buttonSize]=\"'middle'\"\r\n      (clickEvent)=\"clear()\"\r\n    ></app-button>\r\n  </div>\r\n</div>\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { TranslateService } from '@ngx-translate/core';\r\nimport { TableShow } from 'src/app/shared/components/table-show/table-show.component';\r\nimport { InvoiceModel } from 'src/app/shared/models/invoice-model';\r\nimport { DraftInvoicesService } from 'src/app/shared/services/data-store-services/draft-invoice-items-store.service';\r\nimport { SubscriptionManager } from 'src/app/shared/services/subscription.manager';\r\nimport { InvoiceWebService } from 'src/app/shared/services/web-services/invoice.web.service';\r\n\r\n@Component({\r\n  selector: 'app-invoices',\r\n  templateUrl: './invoices.component.html',\r\n  styleUrls: ['./invoices.component.scss'],\r\n  providers: [],\r\n})\r\nexport class InvoicesComponent implements OnInit, OnDestroy {\r\n  private subs = new SubscriptionManager();\r\n\r\n  invoices: TableShow;\r\n\r\n  constructor(\r\n    private route: Router,\r\n    private draftInvoicesStoreService: DraftInvoicesService,\r\n    private invoiceWebService: InvoiceWebService,\r\n    private translateService: TranslateService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.subs.sink = this.invoiceWebService\r\n      .getEntities()\r\n      .subscribe((invoices) => {\r\n        if (invoices) {\r\n          this.invoices = this.mapDataToTableShow(invoices);\r\n        }\r\n      });\r\n  }\r\n\r\n  mapDataToTableShow(invoices: InvoiceModel[]): TableShow {\r\n    let table = {\r\n      header: [\r\n        this.translateService.instant('code'),\r\n        this.translateService.instant('date'),\r\n        this.translateService.instant('advancePayment'),\r\n        this.translateService.instant('buyerName'),\r\n      ],\r\n      data: [],\r\n    };\r\n    invoices.forEach((entity) => {\r\n      table.data.push(entity.oid);\r\n      table.data.push(entity.createDate);\r\n      table.data.push(entity.advancePayment);\r\n      table.data.push(entity.buyerName);\r\n    });\r\n    return table;\r\n  }\r\n\r\n  editInvoice(oid: string): void {\r\n    this.route.navigate(['invoice-create-edit', 'edit', oid]);\r\n  }\r\n\r\n  cancel(): void {\r\n    this.route.navigate(['/']);\r\n  }\r\n\r\n  clear(): void {\r\n    this.draftInvoicesStoreService.clearDraftInvoices();\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.subs.unsubscribe();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { InvoicesComponent } from './invoices.component';\r\nimport { InvoicesRoutingModule } from './invoices-routing.module';\r\nimport { ButtonModule } from 'src/app/shared/components/button/button.module';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { TableShowModule } from 'src/app/shared/components/table-show/table-show.module';\r\n\r\n@NgModule({\r\n  declarations: [InvoicesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    InvoicesRoutingModule,\r\n    ButtonModule,\r\n    TranslateModule,\r\n    TableShowModule,\r\n  ],\r\n  exports: [InvoicesComponent],\r\n})\r\nexport class InvoicesModule {}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable, Type } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class BaseWebService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getRequest<T>(url: string): Observable<T> {\r\n    return this.http.get<T>(url).pipe(\r\n      map((res) => {\r\n        return res as T;\r\n      })\r\n    );\r\n  }\r\n\r\n  getRequestForArray<T>(url: string): Observable<T[]> {\r\n    return this.http.get<T[]>(url).pipe(\r\n      map((res) => {\r\n        return res as T[];\r\n      })\r\n    );\r\n  }\r\n\r\n  postRequest<T>(url: string, data: T): Observable<T> {\r\n    return this.http.post<T>(url, data).pipe(\r\n      map((res) => {\r\n        return res as T;\r\n      })\r\n    );\r\n  }\r\n\r\n  putRequest<T>(url: string, data: T): Observable<T> {\r\n    return this.http.put<T>(url, data).pipe(\r\n      map((res) => {\r\n        return res as T;\r\n      })\r\n    );\r\n  }\r\n\r\n  deleteRequest<T>(url: string): Observable<T> {\r\n    // need to add body params to DELETE request because backend is not completely in RESTful standard\r\n    return this.http.delete<T>(url).pipe(\r\n      map((res) => {\r\n        return res as T;\r\n      })\r\n    );\r\n  }\r\n}\r\n","import { Inject, Injectable } from '@angular/core';\r\nimport { Observable } from 'rxjs';\r\nimport { BaseWebService } from './base-web.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport abstract class EntityBaseWebService<T> {\r\n  private URL_PREFIX: string = 'http://localhost:45328/';\r\n\r\n  constructor(\r\n    public baseWebService: BaseWebService,\r\n    @Inject('') public domainName: string\r\n  ) {}\r\n\r\n  getEntities(): Observable<T[]> {\r\n    return this.baseWebService.getRequestForArray<T>(\r\n      this.URL_PREFIX + this.domainName\r\n    );\r\n  }\r\n\r\n  getEntityByOid(oid: string): Observable<T> {\r\n    return this.baseWebService.getRequest<T>(\r\n      this.URL_PREFIX + this.domainName + '/' + oid\r\n    );\r\n  }\r\n\r\n  createEntity(data: T): Observable<T> {\r\n    return this.baseWebService.postRequest<T>(\r\n      this.URL_PREFIX + this.domainName,\r\n      data\r\n    );\r\n  }\r\n\r\n  updateEntity(data: T): Observable<T> {\r\n    return this.baseWebService.putRequest<T>(\r\n      this.URL_PREFIX + this.domainName,\r\n      data\r\n    );\r\n  }\r\n\r\n  deleteEntity(data: T): Observable<void> {\r\n    console.log(data);\r\n    return this.baseWebService.deleteRequest<void>(\r\n      this.URL_PREFIX + this.domainName\r\n    );\r\n  }\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport { InvoiceModel } from '../../models/invoice-model';\r\nimport { BaseWebService } from './base-web.service';\r\nimport { EntityBaseWebService } from './entity-base-web.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root',\r\n})\r\nexport class InvoiceWebService extends EntityBaseWebService<InvoiceModel> {\r\n  constructor(public baseWebService: BaseWebService) {\r\n    super(baseWebService, 'invoices');\r\n  }\r\n}\r\n"]}